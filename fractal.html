<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Fractal Demo</title>
  <style>
    body { margin: 0; overflow-x: hidden; background: #000; color: #fff; font-family: sans-serif; }
    canvas { display: block; }
    .spin { position: fixed; top: 1rem; right: 1rem; width: 50px; height: 50px; border-radius: 50%; border: 4px solid #fff; border-top-color: transparent; animation: spin 2s linear infinite; }
    @keyframes spin { to { transform: rotate(360deg); } }
    section { height: 100vh; display: flex; align-items: center; justify-content: center; font-size: 2rem; }
    .hidden { opacity: 0; transform: translateY(20px); transition: opacity .6s, transform .6s; }
    .show { opacity: 1; transform: none; }
  </style>
</head>
<body>
  <div class="spin"></div>
  <canvas id="fractal"></canvas>
  <section style="background:#111;" class="show">Scroll down for more âœ¨</section>
  <section style="background:#222;" class="hidden">You found the ancient geometry!</section>
  <script>
    const canvas = document.getElementById('fractal');
    const ctx = canvas.getContext('2d');
    const spinner = document.querySelector('.spin');

    function resize() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      draw();
    }
    window.addEventListener('resize', resize);
    resize();

    const MAX_DEPTH = 7;
    function drawFractal(x, y, size, depth = 0) {
      if (size < 2 || depth >= MAX_DEPTH) return;
      ctx.strokeRect(x, y, size, size);
      const s = size / 2;
      drawFractal(x, y, s, depth + 1);
      drawFractal(x + s, y, s, depth + 1);
      drawFractal(x, y + s, s, depth + 1);
      drawFractal(x + s, y + s, s, depth + 1);
    }
    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.strokeStyle = '#0ff';
      drawFractal(0, 0, Math.min(canvas.width, canvas.height));
      spinner?.remove();
    }
    // Scroll reveal
    const obs = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) entry.target.classList.add('show');
      });
    });
    document.querySelectorAll('section.hidden').forEach(sec => obs.observe(sec));
  </script>
</body>
</html>
